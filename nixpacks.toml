# Nixpacks configuration for Railway deployment
[phases.setup]
# Node.js 20+ and yarn (base), plus Python and build tools for native addons
nixPkgs = ["nodejs_20", "yarn", "python3", "gcc", "gnumake", "pkg-config"]

[phases.install]
cmds = ["yarn install --frozen-lockfile"]

[phases.build]
cmds = ["yarn run build"]

[start]
cmd = "node .next/standalone/server.js"
